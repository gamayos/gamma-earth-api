<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gamma Earth > Documentation > S2DR3 API Manual</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <a class="skip-link" href="#content">Skip to content</a>

  <header>
    <div class="header-inner">
      <a class="brand" href="./index.html">
        <img src="/docs/ge_logo.png" alt="Gamma Earth logo" />
        <span>Gamma&nbsp;Earth&nbsp;Documentation</span>
      </a>
    </div>
  </header>

  <main id="content">
    <article class="prose">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="/docs/index.html">Docs Home</a>
        <span>›</span>
        <a href="/docs/knowledge-base/">Knowledge Base</a>
        <span>›</span>
        <span>S2DR3 API Manual</span>
      </nav>

      <h1>S2DR3 RISC API Version 0.2</h1>
      <h2>Important</h2>
      <p>The API is <strong>asynchronous</strong>, meaning that the POST request will launch the processing and will return the metadata response. The processed data itself will appear in the corresponding GCP storage bucket a few minutes after the launch of the processing.</p>

      <h2>Job submission endpoint</h2>
      <p><code>https://s2dr3-job-20250428-862134799361.europe-west1.run.app/{USER_ID}</code></p>

      <h3>Example Request</h3>
      <p>Method: <code>POST</code></p>
      <pre><code>{
  "date": "2023-05-01",
  "aoi": "19.93 49.28 20.00 49.35" #minx, miny, maxx, maxy
}</code></pre>

      <h3>Main parameters</h3>
      <ul>
        <li><code>date</code> – Exact date of the Sentinel-2 scene (will fail if the scene does not exist)</li>
        <li><code>aoi</code> – Bounding box of the Area-of-interest. The area of the AOI should not exceed 150 sq.km (12x12 km bounding box)!</li>
      </ul>

      <h3>Example Response</h3>
      <pre><code>{
  "ISO": "UA",
  "MGRS": "35UQR",
  "PID": "T35UQR-20230810-u8600146",
  "aoi_overlap": "1.0",
  "bbox": "30.85 50.39 30.88 50.42",
  "date": "20230810",
  "job_id": "e26bb408-d330-11ef",
  "save_path_MS": "gs://sentinel-s2dr3/UA/T35UQR/T35UQR-u8600146/S2L2Ax10_T35UQR-u8600146-20230810_MS.tif",
  "save_path_TCI": "gs://sentinel-s2dr3/UA/T35UQR/T35UQR-u8600146/S2L2Ax10_T35UQR-u8600146-20230810_TCI.tif"
}</code></pre>

      <h3>Main parameters</h3>
      <ul>
        <li><code>save_path_MS</code> – Download URL for the super-resolved multi-spectral dataset</li>
        <li><code>save_path_TCI</code> – Download URL for the super-resolved true-colour dataset</li>
      </ul>

      <h2>Python call example</h2>
      <pre><code>import requests

# Define the URL and the payload (JSON data)
url = 'https://s2dr3-job-20250428-862134799361.europe-west1.run.app/{USER_ID}'

payload = {
    "date": "2023-05-01",
    "aoi": "19.93 49.28 20.00 49.35"
}

# Make the POST request
response = requests.post(url, json=payload)

# Check the response
if response.status_code == 200:
    print("Success:", response.json())  # Print the JSON response
else:
    print("Error:", response.status_code, response.text)  # Print error message</code></pre>

      <h2>getState endpoint</h2>
      <p><code>https://s2dr3-job-20250428-862134799361.europe-west1.run.app/{USER_ID}/e26bb408-d330-11ef</code></p>

      <h3>Example Response</h3>
      <pre><code>{
  "PID":"T35UQR-u8600146-20230810",
  "State":"completed",
  "jobID":"e26bb408-d330-11ef"
}</code></pre>

      <h3>Python call example</h3>
      <pre><code>import requests

# Define the URL and the payload (JSON data)
url = 'https://s2dr3-job-20250428-862134799361.europe-west1.run.app/{USER_ID}/e26bb408-d330-11ef'

# Make the GET request
response = requests.get(url)

# Check the response
if response.status_code == 200:
    print("Success:", response.json())  # Print the JSON response
else:
    print("Error:", response.status_code, response.text)  # Print error message</code></pre>

      <h2>Tile Server</h2>
      <pre><code>https://kgbbmarmdgv53gdb47pls2v2oe0qotcs.lambda-url.eu-central-1.on.aws/cog/tiles/WebMercatorQuad/{z}/{x}/{y}@2x?url=s3://sentinel-s2dr3/{MGRS}/{SID}/{PID}/S2L2A_{PID}_TCI.tif

https://kgbbmarmdgv53gdb47pls2v2oe0qotcs.lambda-url.eu-central-1.on.aws/cog/tiles/WebMercatorQuad/{z}/{x}/{y}@2x?url=s3://sentinel-s2dr3/{MGRS}/{SID}/{PID}/S2L2A_{PID}_NDVI.tif

https://kgbbmarmdgv53gdb47pls2v2oe0qotcs.lambda-url.eu-central-1.on.aws/cog/tiles/WebMercatorQuad/{z}/{x}/{y}@2x?url=s3://sentinel-s2dr3/{MGRS}/{SID}/{PID}/S2L2A_{PID}_IRP.tif</code></pre>

      <p><strong>PID</strong> = <code>T35UQR-860014671-20230810</code><br>
         <strong>MGRS</strong> = <code>T35UQR</code><br>
         <strong>SID</strong> = <code>860014671</code>
      </p>
    </article>
  </main>

  <footer>
    <p>© <span id="year"></span> Gamma Earth. All rights reserved.</p>
    <p class="footer-meta">
      Main site: <a href="https://gamma.earth" target="_blank" rel="noopener">gamma.earth</a>
    </p>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
